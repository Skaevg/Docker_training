# Run, Forest, Run!
## Цели
узнать что политики перезапуска и как их использовать.
## Необходимо
Убедиться что докер установлен на вашей систем и сервис запущен.
```
# Fedora/RHEL/CentosOS
rpm -qa | grep docker
systemctl status docker
```
## Инструкции
1. Запустите контейнер со следующими характеристиками:

- image: alpine
- name: forest
- restart policy: always
- command to execute: sleep 15

```
docker run --restart always --name forest alpine slepp 15
```
2. Запустите docker container ls - контейнер запущен?  Что будет черз 15 секунд, он все еще запущен? почему

он запускается каждый раз после выполнения sleep 15 потому что политика перезапуска "всегада" это  означамет что докер будет продолжать перезапускать контейнер даже после существования.

3. Как остановить запущенный контейнер?
Политика не работает для команды docker container stop.

4. Удалите контейнер который вы создали
```
docker container stop forest
docker container rm forest
```
5. Запусти этот же контенейр снова но теперь время sleep 60 и убедись что он запущен
```
docker run --restart always --name forest alpine sleep 600 docker container ls
```
6. Перезапусти докер сервис, что будет с контейнером ? он все ещё запущен, почему?
```
sudo systemctl restart docker
```
Да он все еще работает из-за политики перезапуска, что означает, что docker всегда будет запускать контейнер после его существования или остановки без спец команды docker stop.

7. обновите политику до unless-stopped

```
docker update --restart unless-stopped forest
```
8. остановите контейнер.
```
docker container stop forest
```
9. Перезапустите докер сервис, он все еще работает? почему?
```
sudo systemctl restart docker
```

Нет, контейнер не запущен, это произошло потому что изменена политика до unless-stopped  который будет запускать контейнер, если он не назодится в остановленном состоянии. Поскольку перед перезапуском мы остановили контейнер, docker не продолжил работу после перезапуска.

